package fag;

import java.util.ArrayList;
import java.util.List;
import java.util.Scanner;

public class Restaurante {

    public static class Pedido {
        private Mesa mesa;
        private Funcionario garcom;
        private List<Pratos> itens;
        private float total;

        public Pedido(Mesa mesa, Funcionario garcom) {
            this.mesa = mesa;
            this.garcom = garcom;
            this.itens = new ArrayList<>();
            this.total = 0;
        }

        public void adicionarItem(Pratos prato) {
            itens.add(prato);
            total += prato.getPreco();
        }

        public float getTotal() {
            return total;
        }

        public Mesa getMesa() {
            return mesa;
        }

        public Funcionario getGarcom() {
            return garcom;
        }
    }

    public static class SistemaVendas {
        private List<Funcionario> funcionarios = new ArrayList<>();
        private List<Pedido> pedidos = new ArrayList<>();
        private float totalVendas = 0;

        public void registrarVenda(Pedido pedido) {
            pedidos.add(pedido);
            totalVendas += pedido.getTotal();
            System.out.println("Pedido registrado: R$ " + pedido.getTotal());
        }

        public void exibirRelatorioVendas() {
            System.out.println("Total de vendas do dia: R$ " + totalVendas);
            for (Pedido p : pedidos) {
                System.out.println("Mesa: " + p.getMesa().getNumerodamesa() + ", Garçom: " + p.getGarcom().getNome() + ", Total: R$ " + p.getTotal());
            }
        }
    }

    public static class Principal {
        public static void main(String[] args) {
            Scanner scanner = new Scanner(System.in);
            SistemaVendas sistema = new SistemaVendas();
            Cardapio cardapio = new Cardapio();
            GerenciamentoMesas gerenciamentoMesas = new GerenciamentoMesas();
            gerenciamentoMesas.adicionarMesas();
            gerenciamentoMesas.ExibirMesas();

            // Adicionar Funcionários
            sistema.funcionarios.add(new Funcionario("Carlos", "001", "Garçom", 0));
            sistema.funcionarios.add(new Funcionario("Ana", "002", "Garçom", 0));

            // Registrar Pedidos
            System.out.print("Selecione a mesa: ");
            int mesaEscolhida = scanner.nextInt();
            Mesa mesa = gerenciamentoMesas.getMesas().get(mesaEscolhida - 1);
            System.out.print("Selecione o garçom (1-Carlos, 2-Ana): ");
            Funcionario garcom = sistema.funcionarios.get(scanner.nextInt() - 1);
            Pedido pedido = new Pedido(mesa, garcom);

            // Adicionar itens ao pedido
            cardapio.exibirCardapio();
            System.out.print("Selecione o prato (código): ");
            int codigoPrato = scanner.nextInt();
            Pratos prato = cardapio.cardapio.get(codigoPrato - 1);
            pedido.adicionarItem(prato);
            sistema.registrarVenda(pedido);
            sistema.exibirRelatorioVendas();
        }
    }

    // Restante das classes como Cardapio, Mesa, Pratos, Funcionario...
    // Implementação conforme o que você já forneceu
}

// Outras classes como Cardapio, Mesa, Pratos, Funcionario vão aqui.
